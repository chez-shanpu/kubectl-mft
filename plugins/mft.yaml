apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: mft
spec:
  version: "v0.5.0"
  homepage: https://github.com/chez-shanpu/kubectl-mft
  shortDescription: Manage Kubernetes manifests as OCI artifacts
  description: |
    kubectl-mft is a plugin that makes manifest management as simple as
    managing container images. No complex templating, no overlay structures
    - just save, version, and retrieve your manifests using OCI registries.

    Features:
    - Simple workflow: pack, push, pull, and apply - just like Docker
    - Version control: Tag and version manifests like container images
    - Any OCI registry: Works with Docker Hub, GHCR, GAR, etc.
    - Local caching: Efficiently manage locally stored manifests

    Quick Start:
      kubectl mft pack -f deployment.yaml myregistry/app:v1.0.0
      kubectl mft push myregistry/app:v1.0.0
      kubectl mft pull myregistry/app:v1.0.0
      kubectl mft dump myregistry/app:v1.0.0 | kubectl apply -f -
  caveats: |
    This plugin uses Docker's credential store for registry authentication.
    Make sure to run 'docker login' before pushing/pulling from private registries.
  platforms:
    - selector:
        matchLabels:
          os: darwin
          arch: amd64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.5.0/kubectl-mft_0.5.0_darwin_amd64.tar.gz
      sha256: "b290a9de1101fa0b4d19b8a2af3d9e591ce3b77439e11648adbb429756668408"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: darwin
          arch: arm64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.5.0/kubectl-mft_0.5.0_darwin_arm64.tar.gz
      sha256: "90975748ba1c6c65c7b46ad6227a5a8c11aa6546ea3d25a87141beae7eb7cc7a"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: linux
          arch: amd64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.5.0/kubectl-mft_0.5.0_linux_amd64.tar.gz
      sha256: "690122b0ed8332904e41ffd3292d583bb6ed76e57f423ec0dba69cc130965c13"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: linux
          arch: arm64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.5.0/kubectl-mft_0.5.0_linux_arm64.tar.gz
      sha256: "d8f390ad8ec48995d3c65fc23f50008a2ebfa8b974a011d4bdf3f8dc08e2da23"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: windows
          arch: amd64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.5.0/kubectl-mft_0.5.0_windows_amd64.zip
      sha256: "a7a838fc9c0d50cf951a3edf33388c7afcf2b10fd69000b4dd65217f3714716c"
      bin: kubectl-mft.exe
    - selector:
        matchLabels:
          os: windows
          arch: arm64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.5.0/kubectl-mft_0.5.0_windows_arm64.zip
      sha256: "bdc2d6c2ff7f82a2099bd99a286d21649455c9a02d1ac26fefceb72106b7cbfc"
      bin: kubectl-mft.exe
