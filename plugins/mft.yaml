apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: mft
spec:
  version: "v0.3.1"
  homepage: https://github.com/chez-shanpu/kubectl-mft
  shortDescription: Manage Kubernetes manifests as OCI artifacts
  description: |
    kubectl-mft is a plugin that makes manifest management as simple as
    managing container images. No complex templating, no overlay structures
    - just save, version, and retrieve your manifests using OCI registries.

    Features:
    - Simple workflow: pack, push, pull, and apply - just like Docker
    - Version control: Tag and version manifests like container images
    - Any OCI registry: Works with Docker Hub, GHCR, GAR, etc.
    - Local caching: Efficiently manage locally stored manifests

    Quick Start:
      kubectl mft pack -f deployment.yaml myregistry/app:v1.0.0
      kubectl mft push myregistry/app:v1.0.0
      kubectl mft pull myregistry/app:v1.0.0
      kubectl mft dump myregistry/app:v1.0.0 | kubectl apply -f -
  caveats: |
    This plugin uses Docker's credential store for registry authentication.
    Make sure to run 'docker login' before pushing/pulling from private registries.
  platforms:
    - selector:
        matchLabels:
          os: darwin
          arch: amd64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.3.1/kubectl-mft_0.3.1_darwin_amd64.tar.gz
      sha256: "f38aec1490b4c3b513af990408fb7b82d27676b9ad3b93d0da825f0a9edc634a"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: darwin
          arch: arm64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.3.1/kubectl-mft_0.3.1_darwin_arm64.tar.gz
      sha256: "8fde6187ffaba177727830ed87d22c3c887dcf5aa5d3504b82eed3623ef62e71"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: linux
          arch: amd64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.3.1/kubectl-mft_0.3.1_linux_amd64.tar.gz
      sha256: "15be145a3d0c9ccf3d1476e7c332a4e2d23033d20c8fa5b3999e0781ff42f730"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: linux
          arch: arm64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.3.1/kubectl-mft_0.3.1_linux_arm64.tar.gz
      sha256: "1669c3d3cecf8f20b439e2e33b6090cca5b072365466f4cce29e1e77eef98ce9"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: windows
          arch: amd64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.3.1/kubectl-mft_0.3.1_windows_amd64.zip
      sha256: "6be44d4785fdda4ee0d37385a89d1d45621ae0a5d7298072b53d83edeae0ef20"
      bin: kubectl-mft.exe
    - selector:
        matchLabels:
          os: windows
          arch: arm64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.3.1/kubectl-mft_0.3.1_windows_arm64.zip
      sha256: "869663dc9ff9eecbc98676324e2aca09702e34ab9f128ff23627456de881c4a4"
      bin: kubectl-mft.exe
