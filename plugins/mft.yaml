apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: mft
spec:
  version: "v0.2.0"
  homepage: https://github.com/chez-shanpu/kubectl-mft
  shortDescription: Manage Kubernetes manifests as OCI artifacts
  description: |
    kubectl-mft is a plugin that makes manifest management as simple as
    managing container images. No complex templating, no overlay structures
    - just save, version, and retrieve your manifests using OCI registries.

    Features:
    - Simple workflow: pack, push, pull, and apply - just like Docker
    - Version control: Tag and version manifests like container images
    - Any OCI registry: Works with Docker Hub, GHCR, GAR, etc.
    - Local caching: Efficiently manage locally stored manifests

    Quick Start:
      kubectl mft pack -f deployment.yaml -t myregistry/app:v1.0.0
      kubectl mft push -t myregistry/app:v1.0.0
      kubectl mft pull -t myregistry/app:v1.0.0
      kubectl mft dump -t myregistry/app:v1.0.0 | kubectl apply -f -
  caveats: |
    This plugin uses Docker's credential store for registry authentication.
    Make sure to run 'docker login' before pushing/pulling from private registries.
  platforms:
    - selector:
        matchLabels:
          os: darwin
          arch: amd64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.2.0/kubectl-mft_0.2.0_darwin_amd64.tar.gz
      sha256: "f2c9d27a8ed036109a2f26239d0b81757dd8fb6f2246f75df5fb82ddffbadea1"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: darwin
          arch: arm64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.2.0/kubectl-mft_0.2.0_darwin_arm64.tar.gz
      sha256: "dc0b407c6b4071cb1b8f6135025fcfe8c55e549295430225122021f342c99d42"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: linux
          arch: amd64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.2.0/kubectl-mft_0.2.0_linux_amd64.tar.gz
      sha256: "d2e3b1c0ed875c7c7372dc1297162c3433f6a73fd55048f6d1bba326501db177"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: linux
          arch: arm64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.2.0/kubectl-mft_0.2.0_linux_arm64.tar.gz
      sha256: "720cf4e96d44b1f19d745c1ff1bc20d66e443383a5b6d03198df5cbd71aa30b5"
      bin: kubectl-mft
    - selector:
        matchLabels:
          os: windows
          arch: amd64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.2.0/kubectl-mft_0.2.0_windows_amd64.zip
      sha256: "2d154b5b9956185590b26d69cf7e4f61970a8e632278f6ebaf16cfb9da6b8c87"
      bin: kubectl-mft.exe
    - selector:
        matchLabels:
          os: windows
          arch: arm64
      uri: https://github.com/chez-shanpu/kubectl-mft/releases/download/v0.2.0/kubectl-mft_0.2.0_windows_arm64.zip
      sha256: "6bcc4fc2f350753c34d0ee353f6c0cd5c8e5e86f57cdf9c0249bb274f677e43a"
      bin: kubectl-mft.exe
